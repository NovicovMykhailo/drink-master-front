"use strict";(self.webpackChunkdrink_master_front=self.webpackChunkdrink_master_front||[]).push([[309],{5286:function(n,e,t){t.d(e,{U:function(){return o}});var i={mainTitle:"MainTitle_mainTitle__C85E1"},r=t(6949),a=t(3329);function o(n){var e=n.title,t=n.isLoading;return(0,a.jsxs)("span",{style:{display:"flex",alignItems:"baseline",flexWrap:"wrap",gap:"25px"},children:[(0,a.jsx)("h1",{className:i.mainTitle,children:e}),t&&(0,a.jsx)(r.Z,{styles:{margin:"0"}})]})}},6307:function(n,e,t){t.d(e,{D:function(){return h}});var i=t(9434),r=t(7425),a="Paginator_paginatorContainer__bXu4O",o="Paginator_pagesList__fIvLN",s="Paginator_button__TBgKi",c="Paginator_buttonIcon__PM4WD",d="Paginator_pageButton__HtTvm",u="Paginator_active__HwRvN",l="Paginator_dots__fLpfi",g=function(n,e,t){var i=function(n){var e=3;return n>=768&&t<1440?e=5:n>=1440&&(e=7),e}(t);var r,a,o,s=(a=n,o=i,1===(r=e)||r<=Math.floor(o/2)||a<=o?1:r===a||r>a-o?a-o:r-Math.floor(o/2));var c=function(n,e,t){return n<e||n===e?n-1:1===t?e:t+e>=n||t===n?n-1:t+e}(n,i,s);var d=function(n,e){for(var t=[],i=n;i<e;i++)t.push(i+1);return t}(s,c);var u=function(n,e,t,i){var r=!1,a=!1;return 3===n&&(r=e>=Math.floor(n/2)+1,a=i<t-Math.floor(n/2)-1),5===n&&(r=e>=Math.floor(n/2),a=i<t-Math.floor(n/2)),7===n&&(r=e>=Math.floor(n/2)-1,a=i<=t-Math.floor(n/2)),{shouldRenderLeftDots:r,shouldRenderRightDots:a}}(i,s,n,c);return{numbers:d,DOTS:"...",shouldRenderLeftDots:u.shouldRenderLeftDots,shouldRenderRightDots:u.shouldRenderRightDots}},_=t(1761),p=t(3329),h=function(n){var e=n.page,t=n.totalPages,h=n.onChangePage,f=(0,i.I0)(),x=(0,_.Z)().width,m=t,v=g(t,e,x),b=v.numbers,k=v.DOTS,j=v.shouldRenderLeftDots,Z=v.shouldRenderRightDots,C=e===m,P=1===e,y=function(){window.scrollTo({top:0,behavior:"smooth"})};return(0,p.jsxs)("div",{className:a,children:[(0,p.jsx)("button",{type:"button",onClick:function(){f(h(e-1)),y()},className:s,disabled:P,children:(0,p.jsx)(r.jW7,{className:c})}),(0,p.jsxs)("ul",{className:o,children:[(0,p.jsx)("li",{children:(0,p.jsx)("button",{type:"button",onClick:function(){f(h(1)),y()},className:"".concat(d," ").concat(1===e&&u),children:1})},1),j&&(0,p.jsx)("li",{className:l,children:k},"leftDots"),b.map((function(n){return(0,p.jsx)("li",{children:(0,p.jsx)("button",{type:"button",onClick:function(){f(h(n)),y()},className:"".concat(d," ").concat(e===n&&u),children:n})},n)})),Z&&(0,p.jsx)("li",{className:l,children:k},"rightDOTS"),(0,p.jsx)("li",{children:(0,p.jsx)("button",{type:"button",onClick:function(){return f(h(m))},className:"".concat(d," ").concat(e===m&&u),children:m})},m)]}),(0,p.jsx)("button",{type:"button",onClick:function(){return f(h(e+1))},className:s,disabled:C,children:(0,p.jsx)(r.jfD,{className:c})})]})}},1202:function(n,e,t){var i=t(9439),r=t(2791);e.Z=function(n){var e=(0,r.useState)(!1),t=(0,i.Z)(e,2),a=t[0],o=t[1];(0,r.useEffect)((function(){var e=new IntersectionObserver((function(n){var e=(0,i.Z)(n,1)[0];o(e.isIntersecting)}),{threshold:.2});return e.observe(n.current),function(){return e.disconnect()}}),[a,n]),(0,r.useEffect)((function(){a&&(n.current.classList.add("active"),n.current.querySelector("img")&&n.current.querySelector("img").classList.add("active"))}),[a,n])}},519:function(n,e,t){t.r(e),t.d(e,{default:function(){return A}});var i=t(1413),r=t(9439),a=t(2791),o=t(9434),s=t(1087),c=t(7689),d=t(3958),u=t(6307),l=(t(5118),"DrinksSearch_noDrinksContainer__VQ-Dh"),g="DrinksSearch_drinkCardContainer__l3KRE",_="DrinksSearch_inputDrinks__iyuzk",p="DrinksSearch_drinkRequestForm__nJ4TD",h="DrinksSearch_inputContainer__dJ8JW",f="DrinksSearch_searchSvg__iSpyk",x=t(3329),m=function(n){var e=n.className;return(0,x.jsxs)("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[(0,x.jsx)("path",{d:"M9.16667 15.8333C12.8486 15.8333 15.8333 12.8486 15.8333 9.16667C15.8333 5.48477 12.8486 2.5 9.16667 2.5C5.48477 2.5 2.5 5.48477 2.5 9.16667C2.5 12.8486 5.48477 15.8333 9.16667 15.8333Z",stroke:"#F3F3F3",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"}),(0,x.jsx)("path",{d:"M17.5 17.5L13.875 13.875",stroke:"#F3F3F3",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})]})},v={image:"DrinkItemCard_image__Bpn4m",animate:"DrinkItemCard_animate__+XbSA",card:"DrinkItemCard_card__xI6wZ",card_name:"DrinkItemCard_card_name__oWqAi",ingredients_text:"DrinkItemCard_ingredients_text__ABjjo",card_link:"DrinkItemCard_card_link__NSEtd",card_text_wrapper:"DrinkItemCard_card_text_wrapper__DQrNO",skeleton:"DrinkItemCard_skeleton__+j9c+"},b=t(1202),k=function(n){var e=n.drink,t=n.drinkThumb,i=n.id,r=n.popup,o=(0,a.useRef)(null);(0,b.Z)(o);var c=r.map((function(n){return null!==n&&void 0!==n&&n.title?n.title:""})).toString().split(",").join(", ");return(0,x.jsx)("li",{className:"".concat(v.mainPageList_item," ").concat(v.card),title:c,"data-item":!0,ref:o,children:(0,x.jsxs)(s.rU,{to:"/recipe/".concat(i),children:[(0,x.jsx)("img",{src:t,alt:"drink",height:400,className:v.image,loading:"lazy"}),(0,x.jsxs)("div",{className:v.card_text_wrapper,children:[(0,x.jsx)("p",{className:v.card_name,children:e}),(0,x.jsx)("p",{className:v.ingredients_text,children:"Ingredients "})]})]})})};var j=t(2277),Z=t(355),C=t(9183),P=function(n){var e=n.map((function(n){var e=n.name;return{value:"".concat(e),label:"".concat(e)}}));return e.unshift({value:"",label:"All categories"}),e},y=function(n){var e=n.map((function(n){var e=n.title;return{value:"".concat(e),label:"".concat(e)}}));return e.unshift({value:"",label:"Ingredients"}),e};function D(n,e){return n.includes("+")?e.filter((function(e){return e.value===n.replace("+"," ")}))[0]:n?e.filter((function(e){return e.value===n}))[0]:void 0}var L=t(7003),w=function(n){return n.drinks.categoryList},N=function(n){return n.drinks.ingredientList},S=function(n){return n.drinks.isLoading},M=function(n){return n.drinks.entities},F=function(n){return n.drinks.page},R=function(n){return n.drinks.totalPages},E=function(){return{categoryList:(0,o.v9)(w),ingredientList:(0,o.v9)(N),isLoading:(0,o.v9)(S),entities:(0,o.v9)(M),currentPage:(0,o.v9)(F),totalPages:(0,o.v9)(R)}},I=t(1761),T={singleValue:function(n){return(0,i.Z)((0,i.Z)({},n),{},{color:"#F3F3F3"})},control:function(n,e){var t=e.isSelected;return(0,i.Z)((0,i.Z)({},n),{},{display:"flex",color:t?"#F3F3F3":"rgba(243, 243, 243, 0.40)",backgroundColor:"#161f37",width:"100%",outline:"none",borderWidth:"1px",borderRadius:"60px",paddingLeft:"24px",paddingRight:"24px",fontSize:"17px",fontWeight:"400",height:"54px",border:"none",boxShadow:"none","@media only screen and (min-width: 768px)":(0,i.Z)((0,i.Z)({},n["@media only screen and (min-width: 768px)"]),{},{width:"199px",height:"56px"})})},option:function(n,e){var t=e.isFocused;return(0,i.Z)((0,i.Z)({},n),{},{backgroundColor:"#161f37",color:t?"#F3F3F3":"rgba(243, 243, 243, 0.40)",fontFamily:"Manrope, sans-serif",fontWeight:"400",cursor:"pointer",lineHeight:"18px"})},menu:function(n){return(0,i.Z)((0,i.Z)({},n),{},{paddingBottom:"14px",paddingLeft:"23px",paddingRight:"8px",paddingTop:"14px",borderRadius:"20px",backgroundColor:"#161F37"})},menuList:function(n){return(0,i.Z)((0,i.Z)({},n),{},{"&::-webkit-scrollbar":{display:"none"},boxSizing:"content-box"})},indicatorSeparator:function(){return{display:"none"}},dropdownIndicator:function(n){return(0,i.Z)((0,i.Z)({},n),{},{padding:0})}},W={singleValue:function(n){return(0,i.Z)((0,i.Z)({},n),{},{color:"#F3F3F3"})},control:function(n,e){var t=e.isSelected;return(0,i.Z)((0,i.Z)({},n),{},{display:"flex",color:t?"#F3F3F3":"rgba(243, 243, 243, 0.40)",backgroundColor:"#161f37",width:"100%",outline:"none",borderWidth:"1px",borderRadius:"60px",paddingLeft:"24px",paddingRight:"24px",fontSize:"17px",fontWeight:"400",height:"54px",border:"none",boxShadow:"none","@media only screen and (min-width: 768px)":(0,i.Z)((0,i.Z)({},n["@media only screen and (min-width: 768px)"]),{},{width:"199px",height:"56px"})})},option:function(n,e){var t=e.isFocused;return(0,i.Z)((0,i.Z)({},n),{},{backgroundColor:"#161f37",color:t?"#F3F3F3":"rgba(243, 243, 243, 0.40)",fontFamily:"Manrope, sans-serif",fontWeight:"400",cursor:"pointer",lineHeight:"18px"})},menu:function(n){return(0,i.Z)((0,i.Z)({},n),{},{paddingBottom:"14px",paddingLeft:"23px",paddingRight:"8px",paddingTop:"14px",borderRadius:"20px",backgroundColor:"#161F37"})},menuList:function(n){return(0,i.Z)((0,i.Z)({},n),{},{boxSizing:"content-box","&::-webkit-scrollbar":{width:"8px",height:"110px",position:"relative",right:"8px",top:0},"&::-webkit-scrollbar-thumb":{borderRadius:"20px",background:"#434D67"}})},indicatorSeparator:function(){return{display:"none"}},dropdownIndicator:function(n){return(0,i.Z)((0,i.Z)({},n),{},{padding:0})}},q=function(n){var e,t=n.search,v=n.updateState,b=(0,o.I0)(),w=(0,a.useRef)(!1),N=(0,a.useRef)(!1),S=E(),M=S.categoryList,F=S.ingredientList,R=S.isLoading,q=S.entities,z=S.totalPages,O=S.currentPage,A=(0,s.lr)(),B=(0,r.Z)(A,2),H=B[0],U=B[1],J=(0,a.useState)(t?(e=null===t||void 0===t?void 0:t.replace("+"," "),console.log("string",e),JSON.parse('{"'+decodeURI(e.substring(1).replace(/&/g,'","').replace(/=/g,'":"'))+'"}')):null),K=(0,r.Z)(J,2),Q=K[0],V=K[1];console.log("search",t),console.log("prevParams",Q);var X=(0,a.useState)(""),G=(0,r.Z)(X,2),Y=G[0],$=G[1],nn=(0,a.useState)(""),en=(0,r.Z)(nn,2),tn=en[0],rn=en[1],an=(0,a.useState)(""),on=(0,r.Z)(an,2),sn=on[0],cn=on[1],dn=(0,a.useState)({isExists:!1,data:null}),un=(0,r.Z)(dn,2),ln=un[0],gn=un[1],_n=(0,c.TH)().state,pn=(0,I.Z)().width;(0,a.useEffect)((function(){return Q?(gn({isExists:!1,data:null}),(0,L.b)("cache",{isExists:!1,data:null}),N.current=!0,U(Q),Q.category&&$(D(Q.category,P(M)).value||""),Q.ingredient&&rn(D(Q.ingredient,y(F)).value||""),Q.q&&cn(Q.q||""),Q.page&&b((0,C.C)(Number(Q.page))),b((0,Z.zW)({category:Y,page:O,q:sn,ingredient:tn})),N.current=!1):null!==_n&&void 0!==_n&&_n.category?(gn({isExists:!1,data:null}),(0,L.b)("cache",{isExists:!1,data:null}),$(_n.category),H.set("category",Y),U(H),b((0,Z.zW)({category:Y,page:O,q:sn,ingredient:tn}))):b((0,Z.zW)({category:Y,page:O,q:sn,ingredient:tn})),0===M.length&&b((0,Z.pE)()),0===F.length&&b((0,Z.D8)()),function(){V({}),b((0,C.C)(1)),b((0,Z.zW)({category:Y,page:O,q:sn,ingredient:tn})),(0,L.b)("cache",{isExists:!0,data:q}),v("")}}),[]),(0,a.useEffect)((function(){if((0,L.D)("cache")&&(null===ln||void 0===ln||!ln.isExists)){var n=(0,L.D)("cache"),e=n.isExists,t=n.data;gn({isExists:e,data:t})}}),[]),(0,a.useEffect)((function(){if(w.current){var n=function(n){return Object.fromEntries(n.entries())}(H),e={page:O,ingredient:tn,q:sn,category:Y};U(function(n){var e=Object.fromEntries(Object.entries(n).filter((function(n){var e=(0,r.Z)(n,2);return e[0],e[1]})));return e}((0,i.Z)((0,i.Z)({},n),e))),b((0,Z.zW)({category:Y,page:O,q:sn,ingredient:tn})),(0,L.b)("cache",{isExists:!1,data:null}),gn({isExists:!1,data:null})}w.current=!0}),[b,Y,sn,tn,O]);return(0,x.jsxs)("div",{children:[(0,x.jsxs)("form",{className:p,children:[(0,x.jsxs)("label",{className:h,children:[(0,x.jsx)("input",{value:sn,id:"inputSearch",onChange:function(n){return function(n){b((0,C.C)(1)),cn(n.target.value),U({q:n.target.value})}(n)},className:_,disabled:R,placeholder:"Enter the text"}),pn>=768&&(0,x.jsx)(m,{className:f})]}),(0,x.jsx)(d.ZP,{value:Y,disabled:R,placeholder:Y||"All categories",options:P(M),styles:T,onChange:function(n){return function(n){b((0,C.C)(1)),U({category:n.value}),$(n.value)}(n)},maxMenuHeight:405}),(0,x.jsx)(d.ZP,{value:tn,disabled:R,placeholder:tn||"Ingredients",options:y(F),styles:W,onChange:function(n){return function(n){b((0,C.C)(1)),U({ingredient:n.value}),rn(n.value)}(n)}})]}),(null===q||void 0===q?void 0:q.length)>0&&!R&&!N.current&&!(null!==ln&&void 0!==ln&&ln.isExists)&&(0,x.jsx)("ul",{className:g,children:q.map((function(n){var e=n._id,t=n.drink,i=n.drinkThumb,r=n.ingredients;return(0,x.jsx)(k,{drink:t,drinkThumb:i,id:e,popup:r},e)}))}),0===(null===q||void 0===q?void 0:q.length)&&!R&&(0,x.jsx)("div",{className:l,children:(0,x.jsx)(j.j,{title:"No results"})}),(null===ln||void 0===ln?void 0:ln.isExists)&&(0,x.jsx)("ul",{className:g,children:ln.data.map((function(n){var e=n._id,t=n.drink,i=n.drinkThumb,r=n.ingredients;return(0,x.jsx)(k,{drink:t,drinkThumb:i,id:e,popup:r},e)}))}),z>1&&!R&&(0,x.jsx)(u.D,{page:O,totalPages:z,onChangePage:C.C})]})},z=t(5286),O={drinksContainer:"DrinksPage_drinksContainer__ePLbp"};function A(n){var e,t=n.param,i=n.updateState,r=E().isLoading;(0,L.D)("cache")&&(e=(0,L.D)("cache"));return(0,x.jsxs)("section",{className:O.drinksContainer,children:[(0,x.jsx)(z.U,{title:"Drinks",isLoading:r&&!e.isExists}),(0,x.jsx)(q,{search:t,updateState:function(n){i(n)}})]})}},5118:function(n,e){e.Z={mainPageList:"MainPage_mainPageList__ILvfc",image:"MainPage_image__8u-Jk",mainPageList_item:"MainPage_mainPageList_item__4l8cZ",card:"MainPage_card__4qTM6",hero_title:"MainPage_hero_title__8zPus",main_p:"MainPage_main_p__hjLn3",drinks_section:"MainPage_drinks_section__KWdPh",hero_section_wrapper:"MainPage_hero_section_wrapper__in5cU",hero_section:"MainPage_hero_section__uNAmo",hero_button:"MainPage_hero_button__rWCEs",other_drinks_btn:"MainPage_other_drinks_btn__4oIzj",category_title:"MainPage_category_title__aQKj2",card_name:"MainPage_card_name__xqAN-",ingredients_text:"MainPage_ingredients_text__zUAyx",card_link:"MainPage_card_link__beete",card_text_wrapper:"MainPage_card_text_wrapper__4i+lI",skeleton:"MainPage_skeleton__hqNoj"}}}]);
//# sourceMappingURL=309.4e119821.chunk.js.map